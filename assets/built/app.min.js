!function(){"use strict";function e(){const e=document.querySelector(".i-search");e.classList.toggle("i-show"),e.querySelector("input").focus(),document.body.classList.toggle("no-scroll")}var t=function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};function r(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function n(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u}var o,i="KEYS",u="VALUES",s="",a=function(){function e(e,t){var r=e._tree,n=Array.from(r.keys());this.set=e,this._type=t,this._path=n.length>0?[{node:r,keys:n}]:[]}return e.prototype.next=function(){var e=this.dive();return this.backtrack(),e},e.prototype.dive=function(){if(0===this._path.length)return{done:!0,value:void 0};var e=l(this._path),t=e.node,r=e.keys;if(l(r)===s)return{done:!1,value:this.result()};var n=t.get(l(r));return this._path.push({node:n,keys:Array.from(n.keys())}),this.dive()},e.prototype.backtrack=function(){if(0!==this._path.length){var e=l(this._path).keys;e.pop(),e.length>0||(this._path.pop(),this.backtrack())}},e.prototype.key=function(){return this.set._prefix+this._path.map((function(e){var t=e.keys;return l(t)})).filter((function(e){return e!==s})).join("")},e.prototype.value=function(){return l(this._path).node.get(s)},e.prototype.result=function(){switch(this._type){case u:return this.value();case i:return this.key();default:return[this.key(),this.value()]}},e.prototype[Symbol.iterator]=function(){return this},e}(),l=function(e){return e[e.length-1]},c=function(e,t,n,o,i,u,a,l){var d,f,h=u*a;try{e:for(var y=r(e.keys()),v=y.next();!v.done;v=y.next()){var p=v.value;if(p===s){var m=i[h-1];m<=n&&o.set(l,[e.get(p),m])}else{for(var g=u,F=0;F<p.length;++F,++g){for(var w=p[F],x=a*g,_=x-a,A=i[x],E=Math.max(0,g-n-1),b=Math.min(a-1,g+n),S=E;S<b;++S){var z=w!==t[S],C=i[_+S]+ +z,k=i[_+S+1]+1,L=i[x+S]+1,D=i[x+S+1]=Math.min(C,k,L);D<A&&(A=D)}if(A>n)continue e}c(e.get(p),t,n,o,i,g,a,l+p)}}}catch(e){d={error:e}}finally{try{v&&!v.done&&(f=y.return)&&f.call(y)}finally{if(d)throw d.error}}},d=function(){function e(e,t){void 0===e&&(e=new Map),void 0===t&&(t=""),this._size=void 0,this._tree=e,this._prefix=t}return e.prototype.atPrefix=function(t){var o,i;if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");var u=n(f(this._tree,t.slice(this._prefix.length)),2),a=u[0],l=u[1];if(void 0===a){var c=n(g(l),2),d=c[0],h=c[1];try{for(var y=r(d.keys()),v=y.next();!v.done;v=y.next()){var p=v.value;if(p!==s&&p.startsWith(h)){var m=new Map;return m.set(p.slice(h.length),d.get(p)),new e(m,t)}}}catch(e){o={error:e}}finally{try{v&&!v.done&&(i=y.return)&&i.call(y)}finally{if(o)throw o.error}}}return new e(a,t)},e.prototype.clear=function(){this._size=void 0,this._tree.clear()},e.prototype.delete=function(e){return this._size=void 0,v(this._tree,e)},e.prototype.entries=function(){return new a(this,"ENTRIES")},e.prototype.forEach=function(e){var t,o;try{for(var i=r(this),u=i.next();!u.done;u=i.next()){var s=n(u.value,2);e(s[0],s[1],this)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}},e.prototype.fuzzyGet=function(e,t){return function(e,t,r){var n=new Map;if(void 0===t)return n;for(var o=t.length+1,i=o+r,u=new Uint8Array(i*o).fill(r+1),s=0;s<o;++s)u[s]=s;for(var a=1;a<i;++a)u[a*o]=a;return c(e,t,r,n,u,1,o,""),n}(this._tree,e,t)},e.prototype.get=function(e){var t=h(this._tree,e);return void 0!==t?t.get(s):void 0},e.prototype.has=function(e){var t=h(this._tree,e);return void 0!==t&&t.has(s)},e.prototype.keys=function(){return new a(this,i)},e.prototype.set=function(e,t){if("string"!=typeof e)throw new Error("key must be a string");return this._size=void 0,y(this._tree,e).set(s,t),this},Object.defineProperty(e.prototype,"size",{get:function(){if(this._size)return this._size;this._size=0;for(var e=this.entries();!e.next().done;)this._size+=1;return this._size},enumerable:!1,configurable:!0}),e.prototype.update=function(e,t){if("string"!=typeof e)throw new Error("key must be a string");this._size=void 0;var r=y(this._tree,e);return r.set(s,t(r.get(s))),this},e.prototype.fetch=function(e,t){if("string"!=typeof e)throw new Error("key must be a string");this._size=void 0;var r=y(this._tree,e),n=r.get(s);return void 0===n&&r.set(s,n=t()),n},e.prototype.values=function(){return new a(this,u)},e.prototype[Symbol.iterator]=function(){return this.entries()},e.from=function(t){var o,i,u=new e;try{for(var s=r(t),a=s.next();!a.done;a=s.next()){var l=n(a.value,2),c=l[0],d=l[1];u.set(c,d)}}catch(e){o={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return u},e.fromObject=function(t){return e.from(Object.entries(t))},e}(),f=function(e,t,n){var o,i;if(void 0===n&&(n=[]),0===t.length||null==e)return[e,n];try{for(var u=r(e.keys()),a=u.next();!a.done;a=u.next()){var l=a.value;if(l!==s&&t.startsWith(l))return n.push([e,l]),f(e.get(l),t.slice(l.length),n)}}catch(e){o={error:e}}finally{try{a&&!a.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return n.push([e,t]),f(void 0,"",n)},h=function(e,t){var n,o;if(0===t.length||null==e)return e;try{for(var i=r(e.keys()),u=i.next();!u.done;u=i.next()){var a=u.value;if(a!==s&&t.startsWith(a))return h(e.get(a),t.slice(a.length))}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},y=function(e,t){var n,o,i=t.length;e:for(var u=0;e&&u<i;){try{for(var a=(n=void 0,r(e.keys())),l=a.next();!l.done;l=a.next()){var c=l.value;if(c!==s&&t[u]===c[0]){for(var d=Math.min(i-u,c.length),f=1;f<d&&t[u+f]===c[f];)++f;var h=e.get(c);if(f===c.length)e=h;else{var y=new Map;y.set(c.slice(f),h),e.set(t.slice(u,u+f),y),e.delete(c),e=y}u+=f;continue e}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}var v=new Map;return e.set(t.slice(u),v),v}return e},v=function(e,t){var r=n(f(e,t),2),o=r[0],i=r[1];if(void 0!==o)if(o.delete(s),0===o.size)p(i);else if(1===o.size){var u=n(o.entries().next().value,2),a=u[0],l=u[1];m(i,a,l)}},p=function(e){if(0!==e.length){var t=n(g(e),2),r=t[0],o=t[1];if(r.delete(o),0===r.size)p(e.slice(0,-1));else if(1===r.size){var i=n(r.entries().next().value,2),u=i[0],a=i[1];u!==s&&m(e.slice(0,-1),u,a)}}},m=function(e,t,r){if(0!==e.length){var o=n(g(e),2),i=o[0],u=o[1];i.set(u+t,r),i.delete(u)}},g=function(e){return e[e.length-1]},F="or",w=function(){function e(e){if(null==(null==e?void 0:e.fields))throw new Error('MiniSearch: option "fields" must be provided');this._options=t(t(t({},b),e),{searchOptions:t(t({},S),e.searchOptions||{}),autoSuggestOptions:t(t({},z),e.autoSuggestOptions||{})}),this._index=new d,this._documentCount=0,this._documentIds=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this.addFields(this._options.fields)}return e.prototype.add=function(e){var t,n,o,i,u=this._options,s=u.extractField,a=u.tokenize,l=u.processTerm,c=u.fields,d=u.idField,f=s(e,d);if(null==f)throw new Error('MiniSearch: document does not have ID field "'.concat(d,'"'));var h=this.addDocumentId(f);this.saveStoredFields(h,e);try{for(var y=r(c),v=y.next();!v.done;v=y.next()){var p=v.value,m=s(e,p);if(null!=m){var g=a(m.toString(),p),F=this._fieldIds[p],w=new Set(g).size;this.addFieldLength(h,F,this._documentCount-1,w);try{for(var x=(o=void 0,r(g)),_=x.next();!_.done;_=x.next()){var A=l(_.value,p);A&&this.addTerm(F,h,A)}}catch(e){o={error:e}}finally{try{_&&!_.done&&(i=x.return)&&i.call(x)}finally{if(o)throw o.error}}}}}catch(e){t={error:e}}finally{try{v&&!v.done&&(n=y.return)&&n.call(y)}finally{if(t)throw t.error}}},e.prototype.addAll=function(e){var t,n;try{for(var o=r(e),i=o.next();!i.done;i=o.next()){var u=i.value;this.add(u)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.addAllAsync=function(e,t){var r=this;void 0===t&&(t={});var n=t.chunkSize,o=void 0===n?10:n,i={chunk:[],promise:Promise.resolve()},u=e.reduce((function(e,t,n){var i=e.chunk,u=e.promise;return i.push(t),(n+1)%o==0?{chunk:[],promise:u.then((function(){return new Promise((function(e){return setTimeout(e,0)}))})).then((function(){return r.addAll(i)}))}:{chunk:i,promise:u}}),i),s=u.chunk;return u.promise.then((function(){return r.addAll(s)}))},e.prototype.remove=function(e){var t,o,i,u,s,a,l=this._options,c=l.tokenize,d=l.processTerm,f=l.extractField,h=l.fields,y=l.idField,v=f(e,y);if(null==v)throw new Error('MiniSearch: document does not have ID field "'.concat(y,'"'));try{for(var p=r(this._documentIds),m=p.next();!m.done;m=p.next()){var g=n(m.value,2),F=g[0];if(v===g[1]){try{for(var w=(i=void 0,r(h)),x=w.next();!x.done;x=w.next()){var _=x.value,A=f(e,_);if(null!=A){var E=c(A.toString(),_),b=this._fieldIds[_],S=new Set(E).size;this.removeFieldLength(F,b,this._documentCount,S);try{for(var z=(s=void 0,r(E)),C=z.next();!C.done;C=z.next()){var k=d(C.value,_);k&&this.removeTerm(b,F,k)}}catch(e){s={error:e}}finally{try{C&&!C.done&&(a=z.return)&&a.call(z)}finally{if(s)throw s.error}}}}}catch(e){i={error:e}}finally{try{x&&!x.done&&(u=w.return)&&u.call(w)}finally{if(i)throw i.error}}return this._storedFields.delete(F),this._documentIds.delete(F),this._fieldLength.delete(F),void(this._documentCount-=1)}}}catch(e){t={error:e}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(t)throw t.error}}throw new Error("MiniSearch: cannot remove document with ID ".concat(v,": it is not in the index"))},e.prototype.removeAll=function(e){var t,n;if(e)try{for(var o=r(e),i=o.next();!i.done;i=o.next()){var u=i.value;this.remove(u)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new d,this._documentCount=0,this._documentIds=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},e.prototype.search=function(e,t){var o,i;void 0===t&&(t={});var u=this.executeQuery(e,t),s=[];try{for(var a=r(u),l=a.next();!l.done;l=a.next()){var c=n(l.value,2),d=c[0],f=c[1],h=f.score,y=f.terms,v=f.match,p=y.length,m={id:this._documentIds.get(d),score:h*p,terms:Object.keys(v),match:v};Object.assign(m,this._storedFields.get(d)),(null==t.filter||t.filter(m))&&s.push(m)}}catch(e){o={error:e}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}return s.sort(L),s},e.prototype.autoSuggest=function(e,o){var i,u,s,a;void 0===o&&(o={}),o=t(t({},this._options.autoSuggestOptions),o);var l=new Map;try{for(var c=r(this.search(e,o)),d=c.next();!d.done;d=c.next()){var f=d.value,h=f.score,y=(x=f.terms).join(" ");null!=(F=l.get(y))?(F.score+=h,F.count+=1):l.set(y,{score:h,terms:x,count:1})}}catch(e){i={error:e}}finally{try{d&&!d.done&&(u=c.return)&&u.call(c)}finally{if(i)throw i.error}}var v=[];try{for(var p=r(l),m=p.next();!m.done;m=p.next()){var g=n(m.value,2),F=g[0],w=g[1],x=(h=w.score,w.terms),_=w.count;v.push({suggestion:F,terms:x,score:h/_})}}catch(e){s={error:e}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}return v.sort(L),v},Object.defineProperty(e.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),e.loadJSON=function(t,r){if(null==r)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return e.loadJS(JSON.parse(t),r)},e.getDefault=function(e){if(b.hasOwnProperty(e))return x(b,e);throw new Error('MiniSearch: unknown option "'.concat(e,'"'))},e.loadJS=function(t,o){var i,u,s,a,l=t.index,c=t.documentCount,f=t.nextId,h=t.documentIds,y=t.fieldIds,v=t.fieldLength,p=t.averageFieldLength,m=t.storedFields,g=t.serializationVersion;if(1!==g&&2!==g)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var F=new e(o);F._documentCount=c,F._nextId=f,F._documentIds=I(h),F._fieldIds=y,F._fieldLength=I(v),F._avgFieldLength=p,F._storedFields=I(m),F._index=new d;try{for(var w=r(l),x=w.next();!x.done;x=w.next()){var _=n(x.value,2),A=_[0],E=_[1],b=new Map;try{for(var S=(s=void 0,r(Object.keys(E))),z=S.next();!z.done;z=S.next()){var C=z.value,k=E[C];1===g&&(k=k.ds),b.set(parseInt(C,10),I(k))}}catch(e){s={error:e}}finally{try{z&&!z.done&&(a=S.return)&&a.call(S)}finally{if(s)throw s.error}}F._index.set(A,b)}}catch(e){i={error:e}}finally{try{x&&!x.done&&(u=w.return)&&u.call(w)}finally{if(i)throw i.error}}return F},e.prototype.executeQuery=function(e,r){var n=this;if(void 0===r&&(r={}),"string"!=typeof e){var o=t(t(t({},r),e),{queries:void 0}),i=e.queries.map((function(e){return n.executeQuery(e,o)}));return this.combineResults(i,e.combineWith)}var u=this._options,s=u.tokenize,a=u.processTerm,l=u.searchOptions,c=t(t({tokenize:s,processTerm:a},l),r),d=c.tokenize,f=c.processTerm,h=d(e).map((function(e){return f(e)})).filter((function(e){return!!e})).map(E(c)).map((function(e){return n.executeQuerySpec(e,c)}));return this.combineResults(h,c.combineWith)},e.prototype.executeQuerySpec=function(e,o){var i,u,s,a,l,c,d=t(t({},this._options.searchOptions),o),f=(d.fields||this._options.fields).reduce((function(e,r){var n;return t(t({},e),((n={})[r]=x(e,r)||1,n))}),d.boost||{}),h=d.boostDocument,y=d.weights,v=d.maxFuzzy,p=t(t({},S.weights),y),m=p.fuzzy,g=p.prefix,F=this._index.get(e.term),w=this.termResults(e.term,e.term,1,F,f,h);if(e.prefix&&(l=this._index.atPrefix(e.term)),e.fuzzy){var _=!0===e.fuzzy?.2:e.fuzzy,A=_<1?Math.min(v,Math.round(e.term.length*_)):_;A&&(c=this._index.fuzzyGet(e.term,A))}if(l)try{for(var E=r(l),b=E.next();!b.done;b=E.next()){var z=n(b.value,2),C=z[0],k=z[1];if(M=C.length-e.term.length){null==c||c.delete(C);var L=g*C.length/(C.length+.3*M);this.termResults(e.term,C,L,k,f,h,w)}}}catch(e){i={error:e}}finally{try{b&&!b.done&&(u=E.return)&&u.call(E)}finally{if(i)throw i.error}}if(c)try{for(var D=r(c.keys()),I=D.next();!I.done;I=D.next()){C=I.value;var M,O=n(c.get(C),2),B=O[0];if(M=O[1]){L=m*C.length/(C.length+M);this.termResults(e.term,C,L,B,f,h,w)}}}catch(e){s={error:e}}finally{try{I&&!I.done&&(a=D.return)&&a.call(D)}finally{if(s)throw s.error}}return w},e.prototype.combineResults=function(e,t){if(void 0===t&&(t=F),0===e.length)return new Map;var r=t.toLowerCase();return e.reduce(_[r])||new Map},e.prototype.toJSON=function(){var e,t,o,i,u=[];try{for(var s=r(this._index),a=s.next();!a.done;a=s.next()){var l=n(a.value,2),c=l[0],d=l[1],f={};try{for(var h=(o=void 0,r(d)),y=h.next();!y.done;y=h.next()){var v=n(y.value,2),p=v[0],m=v[1];f[p]=Object.fromEntries(m)}}catch(e){o={error:e}}finally{try{y&&!y.done&&(i=h.return)&&i.call(h)}finally{if(o)throw o.error}}u.push([c,f])}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),index:u,serializationVersion:2}},e.prototype.termResults=function(e,t,n,o,i,u,s){var a,l,c,d,f;if(void 0===s&&(s=new Map),null==o)return s;try{for(var h=r(Object.keys(i)),y=h.next();!y.done;y=h.next()){var v=y.value,p=i[v],m=this._fieldIds[v],g=o.get(m);if(null!=g){var F=g.size,w=this._avgFieldLength[m];try{for(var _=(c=void 0,r(g.keys())),E=_.next();!E.done;E=_.next()){var b=E.value,S=u?u(this._documentIds.get(b),t):1;if(S){var z=g.get(b),k=this._fieldLength.get(b)[m],L=n*p*S*A(z,F,this._documentCount,k,w),D=s.get(b);if(D){D.score+=L,C(D.terms,e);var I=x(D.match,t);I?I.push(v):D.match[t]=[v]}else s.set(b,{score:L,terms:[e],match:(f={},f[t]=[v],f)})}}}catch(e){c={error:e}}finally{try{E&&!E.done&&(d=_.return)&&d.call(_)}finally{if(c)throw c.error}}}}}catch(e){a={error:e}}finally{try{y&&!y.done&&(l=h.return)&&l.call(h)}finally{if(a)throw a.error}}return s},e.prototype.addTerm=function(e,t,r){var n=this._index.fetch(r,D),o=n.get(e);if(null==o)(o=new Map).set(t,1),n.set(e,o);else{var i=o.get(t);o.set(t,(i||0)+1)}},e.prototype.removeTerm=function(e,t,r){if(this._index.has(r)){var n=this._index.fetch(r,D),o=n.get(e);null==o||null==o.get(t)?this.warnDocumentChanged(t,e,r):o.get(t)<=1?o.size<=1?n.delete(e):o.delete(t):o.set(t,o.get(t)-1),0===this._index.get(r).size&&this._index.delete(r)}else this.warnDocumentChanged(t,e,r)},e.prototype.warnDocumentChanged=function(e,t,n){var o,i;if(null!=console&&null!=console.warn)try{for(var u=r(Object.keys(this._fieldIds)),s=u.next();!s.done;s=u.next()){var a=s.value;if(this._fieldIds[a]===t)return void console.warn("MiniSearch: document with ID ".concat(this._documentIds.get(e),' has changed before removal: term "').concat(n,'" was not present in field "').concat(a,'". Removing a document after it has changed can corrupt the index!'))}}catch(e){o={error:e}}finally{try{s&&!s.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}},e.prototype.addDocumentId=function(e){var t=this._nextId;return this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t},e.prototype.addFields=function(e){for(var t=0;t<e.length;t++)this._fieldIds[e[t]]=t},e.prototype.addFieldLength=function(e,t,r,n){var o=this._fieldLength.get(e);null==o&&this._fieldLength.set(e,o=[]),o[t]=n;var i=(this._avgFieldLength[t]||0)*r+n;this._avgFieldLength[t]=i/(r+1)},e.prototype.removeFieldLength=function(e,t,r,n){var o=this._avgFieldLength[t]*r-n;this._avgFieldLength[t]=o/(r-1)},e.prototype.saveStoredFields=function(e,t){var n,o,i=this._options,u=i.storeFields,s=i.extractField;if(null!=u&&0!==u.length){var a=this._storedFields.get(e);null==a&&this._storedFields.set(e,a={});try{for(var l=r(u),c=l.next();!c.done;c=l.next()){var d=c.value,f=s(t,d);void 0!==f&&(a[d]=f)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}}},e}(),x=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},_=((o={}).or=function(e,t){var n,o;try{for(var i=r(t.keys()),u=i.next();!u.done;u=i.next()){var s=u.value,a=e.get(s);if(null==a)e.set(s,t.get(s));else{var l=t.get(s),c=l.score,d=l.terms,f=l.match;a.score=a.score+c,a.match=Object.assign(a.match,f),k(a.terms,d)}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return e},o.and=function(e,t){var n,o,i=new Map;try{for(var u=r(t.keys()),s=u.next();!s.done;s=u.next()){var a=s.value,l=e.get(a);if(null!=l){var c=t.get(a),d=c.score,f=c.terms,h=c.match;k(l.terms,f),i.set(a,{score:l.score+d,terms:l.terms,match:Object.assign(l.match,h)})}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}return i},o.and_not=function(e,t){var n,o;try{for(var i=r(t.keys()),u=i.next();!u.done;u=i.next()){var s=u.value;e.delete(s)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return e},o),A=function(e,t,r,n,o){return Math.log(1+(r-t+.5)/(t+.5))*(.5+2.2*e/(e+1.2*(1-.7+.7*n/o)))},E=function(e){return function(t,r,n){return{term:t,fuzzy:"function"==typeof e.fuzzy?e.fuzzy(t,r,n):e.fuzzy||!1,prefix:"function"==typeof e.prefix?e.prefix(t,r,n):!0===e.prefix}}},b={idField:"id",extractField:function(e,t){return e[t]},tokenize:function(e,t){return e.split(M)},processTerm:function(e,t){return e.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[]},S={combineWith:F,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375}},z={combineWith:"and",prefix:function(e,t,r){return t===r.length-1}},C=function(e,t){e.includes(t)||e.push(t)},k=function(e,t){var n,o;try{for(var i=r(t),u=i.next();!u.done;u=i.next()){var s=u.value;e.includes(s)||e.push(s)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},L=function(e,t){var r=e.score;return t.score-r},D=function(){return new Map},I=function(e){var t,n,o=new Map;try{for(var i=r(Object.keys(e)),u=i.next();!u.done;u=i.next()){var s=u.value;o.set(parseInt(s,10),e[s])}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o},M=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;async function O(){const e=Number.parseInt(localStorage.getItem("timestamp"),10);if(Date.now()-new Date(e)>864e5||!e){const e=await async function(){try{const e=await fetch("".concat(SEARCH_URL,"/ghost/api/content/posts/?key=").concat(SEARCH_KEY,"&limit=all&include=authors,tags&formats=plaintext"));if(!e.ok)throw Error(e.statusText);const{posts:t}=await e.json();return t}catch(e){throw Error(e)}}();return localStorage.setItem("timestamp",Date.now()),localStorage.setItem("posts",JSON.stringify(e)),e}return JSON.parse(localStorage.getItem("posts"))}function B(e,t){return 1===e?t:"".concat(t,"page/").concat(e,"/")}document.body.addEventListener("click",(function(t){const{target:r}=t;if(r.closest(".i-copy-button")&&(navigator.clipboard.writeText(window.location.href),r.closest(".i-copy-button").classList.toggle("copied"),setTimeout((()=>r.closest(".i-copy-button").classList.toggle("copied")),2e3)),r.closest(".i-menu-button")&&(document.querySelector(".i-menu").classList.toggle("i-show"),document.body.classList.toggle("no-scroll")),r.closest(".i-search-button")&&e(),r.closest(".i-search-close")){document.querySelector(".i-search").classList.toggle("i-show"),document.body.classList.toggle("no-scroll")}if(r.closest(".i-post-header-caption")&&r.closest(".i-post-header-caption").classList.toggle("i-show"),r.closest(".i-menu-close")&&(document.querySelector(".i-menu").classList.toggle("i-show"),document.body.classList.toggle("no-scroll")),r.closest(".i-mode-button")){const{pref:e}=r.closest(".i-mode-button").dataset;document.documentElement.dataset.colorPref=e,localStorage.setItem("pref",e)}})),document.body.addEventListener("keydown",(function(t){if("Escape"===t.key){document.querySelector('[class*="show"').classList.remove("i-show"),document.body.classList.remove("no-scroll")}"k"===t.key&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),e()),"m"===t.key&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),document.querySelector(".i-menu").classList.toggle("i-show"),document.body.classList.toggle("no-scroll"))})),async function(){if(!SEARCH_KEY||!SEARCH_URL)throw Error("API key and URL required");const e=await O(),t=new w({fields:["title","plaintext"],storeFields:["title","url","excerpt","primary_tag"],searchOptions:{boost:{title:2},fuzzy:.2}});t.addAll(e),document.querySelector(".i-search-input").addEventListener("input",(e=>{const r=document.querySelector(".i-search-results");if(""===e.target.value)return void(r.innerHTML="");const n=t.search(e.target.value),o=n.length?function(e){return e.map((t=>{let{title:r,url:n,primary_tag:o,excerpt:i,score:u}=t;return'<div class="i-search-result">\n      <div class="i-search-tags flex-row">\n        <p class="i-search-tag">'.concat(o&&o.name,'</p><span class="i-search-score" style="width: ').concat(u/e[0].score*100,'%"></span>\n      </div>\n        <p><a href="').concat(n,'">').concat(r,'</a></p>\n        <p class="i-search-excerpt">').concat(i,"</p>\n              </div>")})).join("")}(n):"<p>No results. Try again.</p>";r.innerHTML=o}))}(),function(){const e=document.querySelector(".i-page-number");if(!e)return;const{page:t,pages:r,original:n}=e.dataset,o=[];for(let e=1;e<=Number.parseInt(r,10);e++)o.push('<a class="i-number '.concat(e===Number.parseInt(t,10)?"i-current":"",'" href="').concat(B(e,n),'">').concat(e,"</a>"));const i=o.join("");e.innerHTML=i}(),function(){!function(){const e=document.querySelectorAll(".i-mode-button");window.CSS&&CSS.supports("color","var(--primary)")||e.forEach((e=>{e.style.display="none"}))}();const e=document.documentElement.dataset.accentColor,t=document.querySelector(".i-color");t.value=e,t.addEventListener("change",generateColorPalette)}()}();
//# sourceMappingURL=app.min.js.map
